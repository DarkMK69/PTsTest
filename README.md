# EntityApp üöÄ

> –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫—É.

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

EntityApp ‚Äî —ç—Ç–æ RESTful API –Ω–∞ .NET 8, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –ø–æ–ª–Ω—ã–π CRUD –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç—è–º–∏ —Å 20+ –ø–æ–ª—è–º–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ (—Å—Ç—Ä–æ–∫–∏, —á–∏—Å–ª–∞, –¥–∞—Ç—ã, enum, –º–∞—Å—Å–∏–≤—ã –∏ –¥—Ä—É–≥–∏–µ).

### ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- ‚úì CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úì –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
- ‚úì –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –º–æ–∫-—Å–µ—Ä–≤–∏—Å
- ‚úì –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úì –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- ‚úì Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
EntityApp/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ EntityApp.Api/              # üîß –û—Å–Ω–æ–≤–Ω–æ–π Web API
‚îú‚îÄ‚îÄ mocks/
‚îÇ   ‚îî‚îÄ‚îÄ MockExportService/          # üé≠ –ú–æ–∫-—Å–µ—Ä–≤–∏—Å –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îî‚îÄ‚îÄ tests/
    ‚îî‚îÄ‚îÄ EntityApp.Api.Tests/        # ‚úÖ –ú–æ–¥—É–ª—å–Ω—ã–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
```

---

## ‚öôÔ∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- [.NET 8 SDK](https://dotnet.microsoft.com/download/dotnet/8.0)
- –õ—é–±–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª (PowerShell, CMD, Bash)
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) VS Code —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º C#
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Docker –∏ Docker Compose

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ .NET

#### –ú–æ–∫-—Å–µ—Ä–≤–∏—Å (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ):
```bash
cd EntityApp/mocks/MockExportService
dotnet run
```
üìç –î–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost`

#### –û—Å–Ω–æ–≤–Ω–æ–π API:
```bash
cd EntityApp/src/EntityApp.Api
dotnet run
```
üìç –î–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:5000` (–∏–ª–∏ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç –∏–∑ launchSettings.json)

üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `http://localhost:5000/swagger`

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ó–∞–ø—É—Å–∫ –≤ Docker

#### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:

**API:**
```bash
cd EntityApp/src/EntityApp.Api
docker build -t entityapp-api .
docker run -p 5000:5000 entityapp-api
```

**–ú–æ–∫-—Å–µ—Ä–≤–∏—Å:**
```bash
cd EntityApp/mocks/MockExportService
docker build -t mock-export-service .
docker run -p 5001:5001 mock-export-service
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–í –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
docker-compose up --build
```

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å—Ç—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- üìç API: `http://localhost:8080`
- üìç –ú–æ–∫: `http://localhost:8081`

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd EntityApp/tests/EntityApp.Api.Tests
dotnet test
```

–ü—Ä–æ–µ–∫—Ç—ã —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç:
- `xUnit` –¥–ª—è —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `Moq` –¥–ª—è –º–æ–∫–æ–≤
- `FluentAssertions` –¥–ª—è —É–¥–æ–±–Ω—ã—Ö —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π

---

## üì° API Endpoints

| –ú–µ—Ç–æ–¥ | –ú–∞—Ä—à—Ä—É—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|---------|---------|
| `GET` | `/api/entities` | –°–ø–∏—Å–æ–∫ —Å—É—â–Ω–æ—Å—Ç–µ–π (–ø–∞–≥–∏–Ω–∞—Ü–∏—è) |
| `POST` | `/api/entities` | –°–æ–∑–¥–∞—Ç—å —Å—É—â–Ω–æ—Å—Ç—å |
| `GET` | `/api/entities/{id}` | –ü–æ–ª—É—á–∏—Ç—å —Å—É—â–Ω–æ—Å—Ç—å –ø–æ ID |
| `PUT` | `/api/entities/{id}` | –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–Ω–æ—Å—Ç—å |
| `DELETE` | `/api/entities/{id}` | –£–¥–∞–ª–∏—Ç—å —Å—É—â–Ω–æ—Å—Ç—å |
| `POST` | `/api/entities/export` | –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ |

---

## üìù –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏

```json
POST /api/entities
Content-Type: application/json

{
  "name": "Product",
  "email": "test@example.com",
  "quantity": 100,
  "price": 99.99,
  "tags": ["electronics", "new"],
  "metadata": {
    "source": "api",
    "version": "1.0"
  }
}
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞

```
GET /api/entities?pageNumber=1&pageSize=10
```

---

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –í–µ—Ä—Å–∏—è |
|-----------|--------|
| .NET | 8.0 |
| ASP.NET Core | 8.0 |
| FluentValidation | 12.x |
| Swagger/OpenAPI | Latest |
| xUnit | Latest |

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö:
- `appsettings.json` ‚Äî –æ—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- `appsettings.Development.json` ‚Äî –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–î–ª—è Docker –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —á–µ—Ä–µ–∑:
- –§–ª–∞–≥ `-e` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- –†–∞–∑–¥–µ–ª `environment` –≤ docker-compose.yml

–ü—Ä–∏–º–µ—Ä:
```yaml
environment:
  - ConnectionString=...
  - LogLevel=Debug
```

---

## üìÑ HTTP –ø—Ä–∏–º–µ—Ä—ã

–í –∫–∞–∂–¥–æ–º –ø—Ä–æ–µ–∫—Ç–µ –µ—Å—Ç—å —Ñ–∞–π–ª—ã `*.http` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–æ–≤:
- `EntityApp/src/EntityApp.Api/EntityApp.Api.http`
- `EntityApp/mocks/MockExportService/MockExportService.http`

–ò—Ö –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ VS Code —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º [REST Client](https://marketplace.visualstudio.com/items?itemName=humao.rest-client).

---

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

> ‚ö†Ô∏è –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (In-Memory) –∏ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–Ω–æ:
- –ó–∞–º–µ–Ω–∏—Ç—å in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –Ω–∞ Entity Framework Core
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –ë–î (SQL Server, PostgreSQL –∏ —Ç.–¥.)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é

---

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –Ω–∞—à–ª–∏ –±–∞–≥? –°–æ–∑–¥–∞–π—Ç–µ [Issue](https://github.com/your-repo/issues).

---

**–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏!** ‚ú®

# –¢–µ–ø–µ—Ä—å –Ω–µ–º–Ω–æ–≥–æ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–≥–æ

**–ï—Å–ª–∏ –µ—Å—Ç—å —á—Ç–æ –æ–±—Å—É–¥–∏—Ç—å —Ç–æ @darkmk692, –∞ —Ç–∞–∫ –Ω–µ —Å–∏–¥–∏—Ç–µ –¥–æ–ª–≥–æ –∑–∞ –∫–æ–º–ø–æ–º, –∏–Ω–∞—á–µ —Å–ø–∏–Ω–∫–∞ –±–æ–±–æ,–ø–æ–∫–∞ –ø–æ–≥–æ–¥–∞ —Ç–µ–ø–ª–∞—è –ª—É—á—à–µ –ø—Ä–æ–≥—É–ª—è—Ç—å—Å—è –º–∏–Ω—É—Ç 30 –¥–Ω–µ–º –∏–ª–∏ –≤–µ—á–µ—Ä–æ–º :)**